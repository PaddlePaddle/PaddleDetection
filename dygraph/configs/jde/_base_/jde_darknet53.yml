architecture: JDE
pretrain_weights: https://paddle-imagenet-models-name.bj.bcebos.com/DarkNet53_pretrained.tar
load_static_weights: True
norm_type: sync_bn

JDE:
  backbone: DarkNet
  neck: JDEFPN
  jde_head: JDEHead
  post_process: BBoxPostProcess
  test_emb: False

DarkNet:
  depth: 53
  return_idx: [2, 3, 4]

# use default config
# JDEFPN:

JDEHead:
  anchors: [[128,384], [180,540], [256,640], [512,640],
            [32,96], [45,135], [64,192], [90,271],
            [8,24], [11,34], [16,48], [23,68]]
  anchor_masks: [[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]
  num_identifiers: 1 # defined by dataset.nID
  embedding_dim: 512
  jde_loss: JDELoss

# use default config
# JDELoss:

BBoxPostProcess:
  decode:
    name: JDEBox
    conf_thresh: 0.3
    downsample_ratio: 32
    clip_bbox: true
  nms:
    name: MultiClassNMS
    keep_top_k: 100
    score_threshold: 0.01
    nms_threshold: 0.5
    nms_top_k: 1000
    normalized: true
